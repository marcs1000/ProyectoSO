DROP DATABASE IF EXISTS juego;
CREATE DATABASE juego;

USE juego;

CREATE TABLE JUGADOR(
	NAME VARCHAR(30) NOT NULL,
	NICK VARCHAR(30) NOT NULL,
	PWD VARCHAR(30) NOT NULL,
	PRIMARY KEY (NICK)	 
)Engine=InnoDB;


CREATE TABLE PARTIDA(
	ID INT NOT NULL,
	GANADOR VARCHAR(30) NOT NULL,
	FECHA VARCHAR(30) NOT NULL,
	PRIMARY KEY (ID),
	FOREIGN KEY (GANADOR) REFERENCES JUGADOR (NICK)
)Engine=InnoDB;


CREATE TABLE PUNTUACIONES(
	PLAYER VARCHAR(30),
	IDPARTIDA INT,	
	PUNTOS INT,
	FOREIGN KEY (PLAYER) REFERENCES JUGADOR (NICK),
	FOREIGN KEY (IDPARTIDA) REFERENCES PARTIDA (ID)
)Engine=InnoDB;


INSERT INTO JUGADOR VALUES ('Marc','marc10','qwerty123');
INSERT INTO JUGADOR VALUES ('admin','admin','admin');
INSERT INTO JUGADOR VALUES ('Arnau','arnau10','qwerty123');
INSERT INTO JUGADOR VALUES ('Bryan','bryan55','qwerty123');
INSERT INTO JUGADOR VALUES ('Anna','anna9','qwerty123');
INSERT INTO JUGADOR VALUES ('David','david333','qwerty123');
INSERT INTO JUGADOR VALUES ('Albert','albert22','qwerty123');
INSERT INTO JUGADOR VALUES ('Toni','toni1','qwerty123');
INSERT INTO JUGADOR VALUES ('Victor','victor99','qwerty123');


INSERT INTO PARTIDA VALUES (0,'marc10','12/03/2020');
INSERT INTO PARTIDA VALUES (1,'arnau10','01/03/2020');
INSERT INTO PARTIDA VALUES (2,'bryan55','03/03/2020');
INSERT INTO PARTIDA VALUES (3,'marc10','11/03/2020');
INSERT INTO PARTIDA VALUES (4,'david333','13/03/2020');
INSERT INTO PARTIDA VALUES (5,'marc10','12/03/2020');
INSERT INTO PARTIDA VALUES (6,'albert22','05/03/2020');
INSERT INTO PARTIDA VALUES (7,'toni1','02/03/2020');
INSERT INTO PARTIDA VALUES (8,'anna9','07/03/2020');
INSERT INTO PARTIDA VALUES (9,'arnau10','14/03/2020');
INSERT INTO PARTIDA VALUES (10,'marc10','11/03/2020');
INSERT INTO PARTIDA VALUES (11,'marc10','22/02/2020');
INSERT INTO PARTIDA VALUES (12,'marc10','19/03/2020');
INSERT INTO PARTIDA VALUES (13,'victor99','10/03/2020');
INSERT INTO PARTIDA VALUES (14,'anna9','13/03/2020');
INSERT INTO PARTIDA VALUES (15,'marc10','13/03/2020');

INSERT INTO PUNTUACIONES VALUES ('marc10',0,70);
INSERT INTO PUNTUACIONES VALUES ('arnau10',0,20);
INSERT INTO PUNTUACIONES VALUES ('bryan55',0,10);
INSERT INTO PUNTUACIONES VALUES ('anna9',0,20);
INSERT INTO PUNTUACIONES VALUES ('david333',0,10);
INSERT INTO PUNTUACIONES VALUES ('albert22',0,10);
INSERT INTO PUNTUACIONES VALUES ('toni1',0,10);
INSERT INTO PUNTUACIONES VALUES ('victor99',0,10);